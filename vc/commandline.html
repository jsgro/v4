---
layout: lesson
subtitle: The Command Line
title: Version Control
prev: vc/rollback.html
next: vc/setup.html
uplink: vc/index.html
pdf: v4/vc/commandline.pdf
ppt: v4/vc/commandline.ppt
youtube: {"slug": "OWpBmI0RypE", "time": "00:08:33.50"}
---
<div class="transcript">
  <div class="media">
    <img class="media-object pull-left" src="commandline/001.png" />
    <p class="media-body">Hello, and welcome to the fifth episode of the Software Carpentry lecture on version control. In this episode, we will explain how to work with a version control system from the command line.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/002.png" />
    <p class="media-body">In the previous episodes, we showed you how to use the SmartSVN GUI to interact with your repository.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/003.png" />
    <p class="media-body">We will now show you how to accomplish these same tasks using commands from the shell, instead.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/004.png" />
    <p class="media-body">Running commands from the shell is faster than using SmartSVN,</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/005.png" />
    <p class="media-body">And it is simple and not cluttered, unlike many GUIs.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/006.png" />
    <p class="media-body">In the prior episodes, Dracula's first task was to check out a working copy of the repository.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/007.png" />
    <p class="media-body">To do this from the command line, we use the "svn checkout" command&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/008.png" />
    <p class="media-body">&hellip;or just "svn co" for short.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/009.png" />
    <p class="media-body">The checkout command takes two arguments.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/010.png" />
    <p class="media-body">The first argument is the location of the repository.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/011.png" />
    <p class="media-body">The second argument is the location for the working copy on your computer.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/012.png" />
    <p class="media-body">When the command is executed, the files in the repository are copied to Dracula's computer.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/013.png" />
    <p class="media-body">He can then navigate to the working copy&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/014.png" />
    <p class="media-body">&hellip;and use the normal shell commands to view the files.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/015.png" />
    <p class="media-body">Once inside the working directory,  the history of the project can be viewed using the "svn log" command&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/016.png" />
    <p class="media-body">&hellip;which gives a list of changes, and their details.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/017.png" />
    <p class="media-body">We see the comments&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/018.png" />
    <p class="media-body">&hellip;revision numbers&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/019.png" />
    <p class="media-body">&hellip;and the names of the editors, among other things.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/020.png" />
    <p class="media-body">Suppose Dracula now goes to the Jupiter folder,</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/021.png" />
    <p class="media-body">and creates a new file called "moons.txt".</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/022.png" />
    <p class="media-body">(For details about file creation, please see the Software Carpentry lecture on the shell.)</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/023.png" />
    <p class="media-body">After saving the file, Dracula wants to add it to the repository.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/024.png" />
    <p class="media-body">First, he uses the "svn add" command&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/025.png" />
    <p class="media-body">&hellip;with the location of the file as an argument.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/026.png" />
    <p class="media-body">This tells subversion to start keeping track of changes to the file.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/027.png" />
    <p class="media-body">Next, Dracula needs to commit the changes to the repository.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/028.png" />
    <p class="media-body">This is accomplished using the "svn commit" command.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/029.png" />
    <p class="media-body">To give a comment for the revision, the <code>-m</code> flag is used&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/030.png" />
    <p class="media-body">&hellip;followed by the comment, in quotation marks.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/031.png" />
    <p class="media-body">When Dracula executes the command, moons.txt is committed to the master copy of the repository.  We are now on revision 7.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/032.png" />
    <p class="media-body">Wolfman, and any other users, will now need to update their working copies, since they are no longer at the latest revision.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/033.png" />
    <p class="media-body">Wolfman navigates to his working copy of the repository&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/034.png" />
    <p class="media-body">&hellip;and uses the "svn update" command.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/035.png" />
    <p class="media-body">Wolfman now has an up-to-date working copy.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/036.png" />
    <p class="media-body">Now that Wolfman has updated to the latest revision, he takes a look at <code>moons.txt</code>&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/037.png" />
    <p class="media-body">&hellip;and notices a spelling error.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/038.png" />
    <p class="media-body">He corrects the error&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/039.png" />
    <p class="media-body">&hellip;and also adds additional information about Amalthea.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/040.png" />
    <p class="media-body">Wolfman then commits his changes.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/041.png" />
    <p class="media-body">Later on, Dracula navigates to his working copy, and wants to see the changes that Wolfman has made to the repository.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/042.png" />
    <p class="media-body">To view such changes, we use "svn diff", which displays differences between revisions</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/043.png" />
    <p class="media-body">Specifically, to compare the master copy to the working copy, Dracula uses svn diff, with the <code>-r</code> flag.  The <code>-r</code> flag indicates which revision we want to compare with the working copy.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/044.png" />
    <p class="media-body">To compare with the most recent revision, we pass the parameter "HEAD"</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/045.png" />
    <p class="media-body">Execution of the command shows that the working version of moons.txt is different from the master version, and tells us which lines are different.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/046.png" />
    <p class="media-body">A minus sign at the beginning of a line indicates that the line is present in the master copy, but is missing in our local copy.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/047.png" />
    <p class="media-body">A plus sign indicates that the line is in the local copy, but not in the master copy.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/048.png" />
    <p class="media-body">Now that Dracula has reviewed the changes, he updates to the latest revision.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/049.png" />
    <p class="media-body">Both Wolfman and Dracula are up-to-date with the master copy, at revision 8.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/050.png" />
    <p class="media-body">Next, we will show you how to deal with conflicts from the command line.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/051.png" />
    <p class="media-body">Suppose Dracula and Wolfman are editing different lines of their local copies, but at the same time.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/052.png" />
    <p class="media-body">Dracula commits, and the repository is now at revision 9.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/053.png" />
    <p class="media-body">When Wolfman tries to commit, he gets an error:  Commit failed.  File or directory "moons.txt" is out of date.  Try updating.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/054.png" />
    <p class="media-body">This error occurs because Wolfman is at revision 8, but the master copy is at revision 9.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/055.png" />
    <p class="media-body">To resolve this, Wolfman updates to revision 9.  Since Dracula did not edit the same lines, the changes are merged without complaint.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/056.png" />
    <p class="media-body">Wolfman can now commit his changes.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/057.png" />
    <p class="media-body">Now, both Wolfman and Dracula add measurement units to the file.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/058.png" />
    <p class="media-body">Wolfman commits his changes, bringing us to revision 11.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/059.png" />
    <p class="media-body">When Dracula tries to commit, he gets an error, since he is not at the latest revision</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/060.png" />
    <p class="media-body">He tries to update</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/061.png" />
    <p class="media-body">But there is a conflict discovered in moons.txt, since he edited the same line as Wolfman.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/062.png" />
    <p class="media-body">To view the conflict, Dracula selects "diff full" by typing  "df"</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/063.png" />
    <p class="media-body">We get the following output</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/064.png" />
    <p class="media-body">Between the less the row of less than signs, and the row of equals signs, we see what is in Dracula's local copy,</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/065.png" />
    <p class="media-body">Between the equals signs and greater than signs, we see what is in the master copy.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/066.png" />
    <p class="media-body">Now that we've identified the conflict, Dracula selects <code>'e'</code> to edit the file.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/067.png" />
    <p class="media-body">This opens up a text editor.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/068.png" />
    <p class="media-body">In SmartSVN, we had a graphical tool for resolving conflicts.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/069.png" />
    <p class="media-body">We do not have this option in the shell.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/070.png" />
    <p class="media-body">Instead, Dracula must fix the conflict manually, through regular text editing.  He corrects the conflict and saves the file&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/071.png" />
    <p class="media-body">&hellip;and is once again presented with a list of options.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/072.png" />
    <p class="media-body">This time Dracula selects <code>'r'</code> for "resolved"</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/073.png" />
    <p class="media-body">&hellip;and the update completes.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/074.png" />
    <p class="media-body">Dracula is now able to commit his changes.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/075.png" />
    <p class="media-body">Next, we will take about reversing changes.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/076.png" />
    <p class="media-body">Suppose Wolfman is up-to-date, at revision 12</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/077.png" />
    <p class="media-body">He makes some changes to moons.txt</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/078.png" />
    <p class="media-body">But later realizes he wants to undo these changes.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/079.png" />
    <p class="media-body">Since he hasn't committed his changes, he simply needs to revert his local copy</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/080.png" />
    <p class="media-body">To throw away local changes, the "svn revert" command is used&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/081.png" />
    <p class="media-body">&hellip;with the name of the file as an argument</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/082.png" />
    <p class="media-body">This will undo all the changes made to moons.txt</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/083.png" />
    <p class="media-body">Suppose now that Dracula is up-to-date at revision 12.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/084.png" />
    <p class="media-body">He makes changes to moons.txt&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/085.png" />
    <p class="media-body">&hellip;and commits, creating revision 13.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/086.png" />
    <p class="media-body">He later decides that he wants to reverse these changes.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/087.png" />
    <p class="media-body">Revisions cannot be erased from the repository,</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/088.png" />
    <p class="media-body">So instead, Dracula needs to copy revision 12 forward, merging with revision 13, to create a new revision.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/089.png" />
    <p class="media-body">Dracula uses the "svn merge" command</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/090.png" />
    <p class="media-body">The <code>-r</code> flag specifies the range of revisions we are merging</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/091.png" />
    <p class="media-body">To undo the changes that were made from revision 12 to revision 13, we write "HEAD" colon 12, since we are going backward in time from the most recent revision, to revision 12.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/092.png" />
    <p class="media-body">And then specify the file we are merging.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/093.png" />
    <p class="media-body">Dracula's local copy of moons.txt is now back to what it looked like in revision 12.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/094.png" />
    <p class="media-body">He uses "svn diff" to verify that the changes have, indeed, been removed</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/095.png" />
    <p class="media-body">He then commits, creating revision 14.  The changes to moons.txt have been reversed.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/096.png" />
    <p class="media-body">To summarize, here is a list of the subversion commands that were covered in this episode.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="commandline/097.png" />
    <p class="media-body">Thank you.</p>
  </div>
</div>
