---
layout: lesson
title: Dictionaries
lesson_title: Sets and Dictionaries
prev: setdict/storage.html
next: setdict/examples.html
uplink: setdict/index.html
pdf: v4/setdict/dict.pdf
ppt: v4/setdict/dict.ppt
youtube: {"slug": "_3TEEWHHNdA", "time": "00:06:42.54"}
---
<div class="transcript">
  <div class="media">
    <img class="media-object pull-left" src="dict/001.png" />
    <p class="media-body">Hello, and welcome to the third episode of the Software Carpentry lecture on sets and dictionaries.  In this episode we'll have a look at dictionaries, which are almost as widely used as lists, and often more useful.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/002.png" />
    <p class="media-body">Let's go back to the summer we spent counting birds in northern Ontario.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/003.png" />
    <p class="media-body">Our supervisor would like to know how many birds we saw of each type.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/004.png" />
    <p class="media-body">Our input is a list of several thousand observations.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/005.png" />
    <p class="media-body">The output we want is a list of names and counts.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/006.png" />
    <p class="media-body">Using what we've learned so far, we could do this using a list of pairs, where each pair is a sublist storing a bird name and the number of times we've seen it so far.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/007.png" />
    <p class="media-body">Here's a function to add another observation to such a list.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/008.png" />
    <p class="media-body">Its first argument is the list of pairs.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/009.png" />
    <p class="media-body">Its second is the bird name being added.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/010.png" />
    <p class="media-body">Inside the function, we loop over the pairs that are already in the list.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/011.png" />
    <p class="media-body">If the first element of the pair is the same as the bird name we've been given&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/012.png" />
    <p class="media-body">&hellip;we add one to the associated count and return from the function immediately&mdash;there's no need to look at the other pairs in the list.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/013.png" />
    <p class="media-body">Otherwise, if we reach the end of the list without finding a matching name, we add a new pair to the list consisting of the bird's name and '1' (since we have now seen the bird one time).</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/014.png" />
    <p class="media-body">This is an instance of a common programming pattern: either we find pre-existing data in a loop and return right away, or take some default action if we fall off the end of the loop without finding a match.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/015.png" />
    <p class="media-body">Let's take a look at this function in action.  We start with an empty list.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/016.png" />
    <p class="media-body">If our first bird name is 'loon', we find no match (since the list is empty), so we add a pair to the list.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/017.png" />
    <p class="media-body">The next name is 'goose'.  This doesn't match 'loon', so we add another pair.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/018.png" />
    <p class="media-body">Our third record is another loon.  This matches the first entry in the list, so we add one to its count and return immediately, leaving the list as shown here.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/019.png" />
    <p class="media-body">This "list of pairs" approach works, but there's a much solution to this problem, one that is simpler and many times efficient.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/020.png" />
    <p class="media-body">That solution uses a <em>dictionary</em> instead of a list.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/021.png" />
    <p class="media-body">A dictionary is a unordered collection of key/value pairs.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/022.png" />
    <p class="media-body">Like the elements in a set, keys are:</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/023.png" />
    <p class="media-body">immutable</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/024.png" />
    <p class="media-body">unique</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/025.png" />
    <p class="media-body">and not stored in any particular order.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/026.png" />
    <p class="media-body">There are no restrictions on the values stored with those keys.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/027.png" />
    <p class="media-body">In particular, they don't have to be immutable or unique.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/028.png" />
    <p class="media-body">You can create a new dictionary by putting key, colon, value pairs inside curly braces.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/029.png" />
    <p class="media-body">For example, here we're creating a new dictionary with two entries and assigning it to the variable <code>birthdays</code>.  The dictionary has two keys, which are the strings <code>'Newton'</code> and <code>'Darwin'</code>.  The value associated with <code>'Newton'</code> is 1642, while the value associated with <code>'Darwin'</code> is 1809.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/030.png" />
    <p class="media-body">We can get the value associated with a key by putting the key in square brackets.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/031.png" />
    <p class="media-body">This looks just like subscripting a string or list, except dictionary keys don't have to be integers&mdash;they can be strings, tuples, and so on.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/032.png" />
    <p class="media-body">For example, the expression <code>birthdays['Newton']</code> returns the value 1642, since that's what we associated with the key <code>'Newton'</code>.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/033.png" />
    <p class="media-body">It's just like using a phonebook or a real dictionary: instead of looking things up by integer index, we can look things up by name.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/034.png" />
    <p class="media-body">If we want to add another key/value pair to a dictionary, all we have to do is assign something to it.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/035.png" />
    <p class="media-body">Here, for example, the expression <code>birthdays['Turing'] = 1612</code> adds a third pair to our dictionary with the key <code>'Turing'</code> and the value 1612.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/036.png" />
    <p class="media-body">Assignment also overwrites values.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/037.png" />
    <p class="media-body">Since Alan Turing was actually born in 1912, we can fix the mistake in the previous line simply by assigning that value to the key <code>'Turing'</code>.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/038.png" />
    <p class="media-body">Keep in mind that just like the elements in a set, the keys in a dictionary are not stored in any particular order.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/039.png" />
    <p class="media-body">That's why we draw dictionaries like this: a cloud of pairs, each of which has a key and a value.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/040.png" />
    <p class="media-body">If a key isn't actually in a dictionary, trying to read its value is an error, just like trying to read off the end of a list.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/041.png" />
    <p class="media-body">For example, if we try to find Florence Nightingale's birthday with <code>birthdays['Nightingale']</code>, Python reports a <code>KeyError</code>.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/042.png" />
    <p class="media-body">If we're not sure whether a key is in a dictionary or not, we can test for it using the <code>in</code> operator.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/043.png" />
    <p class="media-body">Given the current state of our <code>birthdays</code> dictionary, <code>'Nightingale' in birthdays</code> is <code>False</code>, but <code>'Darwin' in birthdays</code> is <code>True</code>.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/044.png" />
    <p class="media-body">Finally, we can loop over the keys in a dictionary using <code>for</code>.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/045.png" />
    <p class="media-body">This is slightly different from looping over a list: when we loop over a dictionary, we get the keys, which we can use to look up the values.  When we loop over a list, we get its values right away, since its "keys" are just the integers 0, 1, and so on, which aren't usually very interesting.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/046.png" />
    <p class="media-body">Here, for example, the <code>for</code> loop assigns each key of the <code>birthdays</code> dictionary to the variable <code>name</code> in turn.  Inside the loop, we use <code>name</code> to look up the value associated with that key, and print both out.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/047.png" />
    <p class="media-body">Now, let's go back and count those birds.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/048.png" />
    <p class="media-body">Here's the main body of our program.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/049.png" />
    <p class="media-body">The first three lines read the input file into a list of strings.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/050.png" />
    <p class="media-body">We then call a function <code>count_names</code> to turn that list into a dictionary of bird names and counts&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/051.png" />
    <p class="media-body">&hellip;then use a loop like the one we just saw to print out the dictionary's contents.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/052.png" />
    <p class="media-body">Here's the function that does the counting.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/053.png" />
    <p class="media-body">As always, we start with a docstring to explain the function's purpose to whoever has to read it next.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/054.png" />
    <p class="media-body">We get set up by creating an empty dictionary to fill with data&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/055.png" />
    <p class="media-body">&hellip;then loop over the strings in the input list one by one.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/056.png" />
    <p class="media-body">After stripping off any leading or trailing whitespace as usual&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/057.png" />
    <p class="media-body">&hellip;we check to see if we've seen this bird name before.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/058.png" />
    <p class="media-body">If we have, we add one to the associated count.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/059.png" />
    <p class="media-body">If it's the first time we've seen this name, though, we add a new entry to the dictionary, using the bird name as the key and '1' as the value.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/060.png" />
    <p class="media-body">Finally, we return the dictionary we've created.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/061.png" />
    <p class="media-body">Let's watch our counting function in action.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/062.png" />
    <p class="media-body">Before we read any data, our dictionary is empty.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/063.png" />
    <p class="media-body">After we see 'loon' for the first time, our dictionary has one entry.  The key is <code>'loon'</code>, and the value is 1.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/064.png" />
    <p class="media-body">When we see 'goose', we add another entry to the dictionary.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/065.png" />
    <p class="media-body">And when we see 'loon' for the second time, we add one to its count.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/066.png" />
    <p class="media-body">So why use a dictionary rather than a list of pairs?  Because it's much more efficient.  Just like sets, dictionaries are stored using hash tables, which guarantee that finding or modifying values takes roughly constant time.  This is a lot better than the list-based method, where the time grows in proportion to the number of pairs in the list.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="dict/067.png" />
    <p class="media-body">In our next episode, we'll look at some other examples of dictionaries in action.</p>
  </div>
</div>
