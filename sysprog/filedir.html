---
layout: lesson
subtitle: Browsing Directories
title: Systems Programming
prev: null
next: sysprog/dirwalk.html
uplink: sysprog/index.html
pdf: sysprog/filedir.pdf
ppt: sysprog/filedir.ppt
youtube: {"slug": "w2Phxe4aKeg", "time": "00:05:41.24"}
---
<div class="transcript">
  <div class="media">
    <img class="media-object pull-left" src="filedir/001.png" />
    <p class="media-body">Hello and welcome to the first episode of the Software Carpentry lectures on handling directories and files in Python. In this episode, we'll have a look at how directories can be browsed in Python.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/002.png" />
    <p class="media-body">We have seen how Python allows us to&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/003.png" />
    <p class="media-body">&hellip;save data into files.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/004.png" />
    <p class="media-body">And, read data from files.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/005.png" />
    <p class="media-body">But we might also want to do a number of other things. For example&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/006.png" />
    <p class="media-body">&hellip;see what files we have. For example if offering a choice of files for users to select.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/007.png" />
    <p class="media-body">We might wish to delete files.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/008.png" />
    <p class="media-body">Group files into directories.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/009.png" />
    <p class="media-body">And, structure these directories into a tree. For example we might want to create a directory containing a set of input files holding data for processing.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/010.png" />
    <p class="media-body">Now, we could use the shell to do these directory and file manipulations&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/011.png" />
    <p class="media-body">&hellip;but then we would need both our Python program&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/012.png" />
    <p class="media-body">&hellip; and our shell commands.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/013.png" />
    <p class="media-body">Our program would not be very portable. If we wanted to run it on both Linux and Windows we'd need two sets of shell commands.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/014.png" />
    <p class="media-body">Fortunately, we can do it all in Python.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/015.png" />
    <p class="media-body">As a simple example we'll start by accessing the current directory. First, we import the getcwd function from the os module.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/016.png" />
    <p class="media-body">If we then run getcwd&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/017.png" />
    <p class="media-body">&hellip;Python will show us the current working directory. That is, the directory in which Python was started.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/018.png" />
    <p class="media-body">getcwd is a function and it returns the current directory, so we can assign that to a variable.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/019.png" />
    <p class="media-body">Then we can use that variable.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/020.png" />
    <p class="media-body">For example, print it.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/021.png" />
    <p class="media-body">To list the contents of a directory we can use the listdir function. So let us import that.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/022.png" />
    <p class="media-body">Listdir takes one argument, the path of the directory to list. This can be relative or absolute.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/023.png" />
    <p class="media-body">So let us use a dot to state that we want to list the current working directory.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/024.png" />
    <p class="media-body">Listdir returns a list of the contents of the current directory.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/025.png" />
    <p class="media-body">Note that the file and directories in the list are not in alphabetical order.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/026.png" />
    <p class="media-body">Instead of using the dot convention for the current directory, it's cleaner, and more portable, if&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/027.png" />
    <p class="media-body">&hellip;we use getcwd.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/028.png" />
    <p class="media-body">As we can see, the result is the same.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/029.png" />
    <p class="media-body">And, here we use listdir but with the originaldir variable in which we stored the value of getcwd.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/030.png" />
    <p class="media-body">As for getcwd, we can save the output of listdir in a variable. So, we can list the directory whose name is in originaldir and save this list in a variable called files.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/031.png" />
    <p class="media-body">Files will now contain a list of the files and directories in originaldir.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/032.png" />
    <p class="media-body">We can then print files.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/033.png" />
    <p class="media-body">And voila.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/034.png" />
    <p class="media-body">We can use a for-in loop to print each file in the list in turn. So, here we say we want to consider each element of files in turn.  Remember the colon.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/035.png" />
    <p class="media-body">We then provide our loop body. Here, we will just print the variable, file. Remember that we need to type in four spaces before print.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/036.png" />
    <p class="media-body">Then we just press return on a blank line. The loop is now finished and will execute.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/037.png" />
    <p class="media-body">And, as we can see, each member of files is printed.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/038.png" />
    <p class="media-body">To change the current working directory we use the chdir function. So let us import that.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/039.png" />
    <p class="media-body">This function takes one argument, the path of the directory to be the new current working directory. This can be an absolute or a relative path. Let's run it to change into the data directory.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/040.png" />
    <p class="media-body">We can use getcwd to check that we have indeed changed the working directory.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/041.png" />
    <p class="media-body">Good.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/042.png" />
    <p class="media-body">And then we can use listdir to see the what's in data.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/043.png" />
    <p class="media-body">That's correct.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/044.png" />
    <p class="media-body">As we saved our original directory in the variable originaldir we can use this with chdir to get back to where we came from.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/045.png" />
    <p class="media-body">And use getcwd to show that this has indeed happened.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/046.png" />
    <p class="media-body">When we call chdir in Python it only changes the current working directory as known to Python. What the shell, within which we started Python, considers to be the current working directory remains unchanged.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/047.png" />
    <p class="media-body">For example, let us again change into the data directory.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/048.png" />
    <p class="media-body">Using getcwd we can see that&hellip;</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/049.png" />
    <p class="media-body">&hellip;as far as Python is concerned we are now in users vlad data.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/050.png" />
    <p class="media-body">If we exit Python using control-D.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/051.png" />
    <p class="media-body">And run the Linux pwd command.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/052.png" />
    <p class="media-body">We see that as far as the shell is concerned we are still in users vlad, which is the directory in which we started Python.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/053.png" />
    <p class="media-body">To summarize, we used the following functions in the Python os module to browse directories. Getcwd allows us to get the current working directory. Listdir allows us to list the contents of a specific directory. And, chdir allows us to change the current working directory to be a specific directory.</p>
  </div>
  <div class="media">
    <img class="media-object pull-left" src="filedir/054.png" />
    <p class="media-body">Thank you for listening.</p>
  </div>
</div>
